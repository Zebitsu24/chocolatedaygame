<!DOCTYPE html>
<html>
<head>
  <title>Level 2 - Memory Match</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>
<img class="cat right"
     src="https://media.giphy.com/media/mlvseq9yvZhba/giphy.gif"
     alt="Memory Cat">

<div class="container">
  <h2>ğŸ± Level 2: Agent Memory</h2>
  <p>Match the Valorant Cat Agents!</p>

  <div class="grid" id="grid"></div>

  <p id="msg" class="soft"></p>

  <a id="next" href="level3.html" class="btn hidden">FINAL LEVEL ğŸ’–</a>
</div>

<script>
const cards = ["ğŸ˜º","ğŸ˜º","ğŸ±","ğŸ±","ğŸ˜¼","ğŸ˜¼"];
let first = null;
let lock = false;
let matched = 0;

cards.sort(() => 0.5 - Math.random());

const grid = document.getElementById("grid");

cards.forEach(icon => {
  const card = document.createElement("div");
  card.className = "card";
  card.innerText = "â“";

  card.onclick = () => {
    if (lock || card.innerText !== "â“") return;

    card.innerText = icon;

    if (!first) {
      first = card;
    } else {
      if (first.innerText === card.innerText) {
        matched += 2;
        first = null;

        if (matched === cards.length) {
          document.getElementById("msg").innerText =
            "Perfect memory ğŸ˜Œ Zebitsu is impressed!";
          document.getElementById("next").classList.remove("hidden");
        }
      } else {
        lock = true;
        setTimeout(() => {
          first.innerText = "â“";
          card.innerText = "â“";
          first = null;
          lock = false;
        }, 700);
      }
    }
  };

  grid.appendChild(card);
});
</script>

</body>
</html>
